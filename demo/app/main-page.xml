<Page xmlns="http://schemas.nativescript.org/tns.xsd" loaded="pageLoaded">
  <ActionBar title="Spotify Demo" backgroundColor="#000" color="#fff"/>
  <GridLayout rows="*,auto" backgroundColor="#000">
    <StackLayout row="0">
      <Image src="{{currentAlbumUrl}}" class="cover" /> 
      <Image src="~/assets/login-btn.png" tap="{{login}}" visibility="{{loggedIn ? 'collapsed' : 'visible'}}" class="login-btn"/> 
      <Button text="{{playBtnTxt}}" tap="{{togglePlay}}" visibility="{{loggedIn ? 'visible' : 'collapsed'}}"/>
      <ScrollView visibility="{{albumName ? 'visible' : 'collapsed'}}">
        <StackLayout row="0" class="metadata">
          <Label text="{{artistName}}" textWrap="true" class="track-info"/>
          <Label text="{{albumName}}" textWrap="true" class="track-info"/>
          <Label text="{{trackName}}" textWrap="true" class="track-info"/>
          <Label text="{{trackDuration}}" textWrap="true" class="track-info"/>
          <Label text="{{albumUri}}" textWrap="true" class="track-info"/>
          <Label text="{{artistUri}}" textWrap="true" class="track-info"/>
          <Label text="{{trackUri}}" textWrap="true" class="track-info"/>
        </StackLayout>
      </ScrollView>
      <Button text="View 'Natively Scripting' Playlist" tap="{{viewPlaylist}}" visibility="{{loggedIn ? 'visible' : 'collapsed'}}" class="view-track"/>
      <ListView items="{{playlistItems}}" itemTap="{{playlistItemTap}}">
        <ListView.itemTemplate>
          <Label text="{{name}}" textWrap="true" class="title" />
        </ListView.itemTemplate>
      </ListView>
    </StackLayout>
    <StackLayout row="1" class="grey">
      <HtmlView html="{{footerNote}}" class="footer"/>
    </StackLayout>    
  </GridLayout>

</Page>
